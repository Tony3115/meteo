<html>

<head>
    <title>Weather</title>
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
</head>

<body>
    <div id="temperature" style="position:relative">
        <h1>Rome 17 °C </h1>
    </div>
</body>
<script>
    let apikey = 'f1739d80d7f0995ce57277d5861a6566';
    const city = 'Londres';
    let urlmeteo = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apikey}`;

    $(function () {

        $.ajax({
            url: urlmeteo,
            method: 'GET',
            dataType: 'json'
        })
            .done(function (data) {

                console.log(data);


                let tempKelvin = data.main.temp;


                let tempCelsius = tempKelvin - 273.15;


                $('#temperature h1').text(`Londres ${tempCelsius.toFixed(2)} °C`);
            })
            .fail(function () {
                console.error('Error fetching the weather data.');
            });
    });
</script>

</html>